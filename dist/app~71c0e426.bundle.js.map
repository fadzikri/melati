{"version":3,"file":"app~71c0e426.bundle.js","mappings":"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","sources":["webpack://melati/./src/scripts/utils/fallback-img.js","webpack://melati/./src/scripts/index.js","webpack://melati/./src/scripts/utils/drawer.js","webpack://melati/./src/scripts/utils/like-button.js","webpack://melati/./src/scripts/utils/lists.js"],"sourcesContent":["/* eslint-disable n/handle-callback-err */\nimport axios from \"axios\";\n\nconst fallbackImg = () => {\n  const resImg = document.getElementsByClassName(\"res-img\");\n  axios\n    .get(`${window.location.origin}/images/heros/hero-image-small.jpg`)\n    .then((res) => true)\n    .catch((err) => {\n      [...resImg].forEach((el) => {\n        el.remove();\n      });\n    });\n};\n\nexport default fallbackImg;\n","/* eslint-disable no-unused-vars */\nimport \"../styles/main.css\";\nimport \"regenerator-runtime\";\nimport process from \"./utils/process\";\nimport swRegister from \"./utils/sw\";\nimport { Navbar, Content, Footer } from \"./views/appshell\";\nimport fallbackImg from \"./utils/fallback-img\";\n\nconst navbar = new Navbar({\n  button: document.getElementById(\"hamburger\"),\n  drawer: document.getElementById(\"drawer\"),\n  content: document.querySelector(\"main\"),\n});\n\nconst content = new Content(document.getElementById(\"content\"));\n\nconst footer = new Footer(document.getElementById(\"tahun\"));\n\nwindow.addEventListener(\"popstate\", () => {\n  process.changeTitleToInitial();\n});\n\nwindow.addEventListener(\"hashchange\", () => {\n  content.renderContent();\n  process.skipContent();\n});\n\nwindow.addEventListener(\"load\", () => {\n  fallbackImg();\n  swRegister();\n});\n","const drawer = {\n  init({ button, drawer, content }) {\n    button.addEventListener(\"click\", (event) => {\n      this._toggleDrawer(event, drawer);\n    });\n\n    content.addEventListener(\"click\", (event) => {\n      this._closeDrawer(event, drawer);\n    });\n  },\n\n  _toggleDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.toggle(\"navbar-open\");\n  },\n\n  _closeDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.remove(\"navbar-open\");\n  },\n};\n\nexport default drawer;\n","import operationDb from \"../data/dbi\";\n\nconst likeButton = async ({ data, like, love }) => {\n  if (await operationDb.getRestaurant(data.id)) {\n    love.classList.add(\"feather-heart-x\");\n  }\n\n  like.addEventListener(\"click\", async (e) => {\n    await toogleLikeHeart(love, e, data);\n  });\n\n  like.addEventListener(\"keypress\", async (e) => {\n    if (e.key === \"Enter\") {\n      await toogleLikeHeart(love, e, data);\n    }\n  });\n};\n\nconst toogleLikeHeart = async (love, e, data) => {\n  e.stopPropagation();\n  e.preventDefault();\n\n  love.classList.toggle(\"feather-heart-x\");\n\n  if (!love.classList.contains(\"feather-heart-x\")) {\n    await operationDb.delRestaurant(data.id);\n  } else {\n    await operationDb.putRestaurant(dataRestaurant(data));\n  }\n};\n\nconst dataRestaurant = (data) => {\n  return {\n    id: data.id,\n    pictureId: data.pictureId,\n    name: data.name,\n    rating: data.rating,\n    city: data.city,\n  };\n};\n\nexport { likeButton, dataRestaurant };\n","/* eslint-disable no-unused-expressions */\nimport config from \"../global/config\";\nimport {\n  RestaurantCard,\n  RestaurantDescription,\n  RestaurantImage,\n} from \"../views/templates/content-restaurant\";\nimport process from \"./process\";\nimport \"lazysizes\";\nimport \"lazysizes/plugins/parent-fit/ls.parent-fit\";\n\nconst lists = {\n  async render(data) {\n    const card = new RestaurantCard();\n    const image = new RestaurantImage();\n    const description = new RestaurantDescription();\n    let idCard = data.id;\n\n    process.skipContent();\n\n    card.setAttribute(\"id\", data.id);\n\n    card.addEventListener(\"keypress\", (e) => {\n      if (e.key === \"Enter\") {\n        idCard = e.target.id;\n        window.location.href = `${window.location.origin}/#/detail/${e.target.id}`;\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    });\n\n    card.addEventListener(\"click\", (e) => {\n      window.location.href = `${window.location.origin}/#/detail/${e.target.id}`;\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    image.setAttribute(\n      \"data-src\",\n      `${config.BASE_IMAGE_URL}/${data.pictureId}`\n    );\n    image.setAttribute(\"name\", data.name);\n\n    image.addEventListener(\"click\", (e) => {\n      window.location.href = `${window.location.origin}/#/detail/${idCard}`;\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    description.setAttribute(\"name\", data.name);\n    description.setAttribute(\"rate\", data.rating);\n    description.setAttribute(\"city\", data.city);\n\n    description.addEventListener(\"click\", (e) => {\n      window.location.href = `${window.location.origin}/#/detail/${idCard}`;\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    card.append(image);\n    card.append(description);\n\n    return card;\n  },\n};\n\nexport default lists;\n"],"names":["resImg","document","getElementsByClassName","axios","window","location","origin","then","res","err","forEach","el","remove","Navbar","button","getElementById","drawer","content","querySelector","Content","Footer","addEventListener","process","renderContent","fallbackImg","swRegister","init","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","likeButton","data","like","love","operationDb","id","add","e","toogleLikeHeart","key","preventDefault","contains","dataRestaurant","pictureId","name","rating","city","i","render","card","RestaurantCard","image","RestaurantImage","description","RestaurantDescription","idCard","setAttribute","target","href","config","append"],"sourceRoot":""}